(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{1523:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,8173,23)),Promise.resolve().then(t.bind(t,605))},6046:(e,a,t)=>{"use strict";var s=t(6658);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},605:(e,a,t)=>{"use strict";t.d(a,{default:()=>d});var s=t(5155),r=t(2115),l=t(8173),o=t.n(l),c=t(8897),n=t.n(c),i=t(6046);function d(){let[e,a]=(0,r.useState)({fullName:"",email:"",accountType:"",password:"",confirmPassword:""}),t=(0,i.useRouter)(),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)([]),m=e=>{let{id:t,value:s}=e.target;a(e=>({...e,[t]:s}))},h=async a=>{if(a.preventDefault(),e.password!==e.confirmPassword){alert("Passwords do not match!");return}c(!0)};return(0,r.useEffect)(()=>{(async()=>{try{let e={"Content-Type":"application/json"},a="e18d5c7000ca249fad54b480baef48d13480411cc9d83fbcbf7f1bcb4ca534d7";a&&(e["api-key"]=a);let t=await fetch("/api/account-types",{method:"GET",headers:e}),s=await t.json();u(s)}catch(e){console.error("Failed to fetch account types",e)}})()},[]),(0,r.useEffect)(()=>{(async()=>{if(l)try{let a={"Content-Type":"application/json"},s="e18d5c7000ca249fad54b480baef48d13480411cc9d83fbcbf7f1bcb4ca534d7";s&&(a["api-key"]=s);let r=await fetch("/api/auth/signup",{method:"POST",headers:a,body:JSON.stringify({username:e.fullName,email:e.email,account_type:e.accountType,password:e.password})});if(r.ok)n().fire("Registration successful!","You will be redirected to the login page.","success").then(()=>{t.push("/auth/login")});else{let e=await r.text();n().fire("Failed to register",e,"error")}}catch(e){e instanceof Error?n().fire("Failed to retrieve otp",e.message,"error"):n().fire("Failed to retrieve otp","An unknown error occurred","error")}finally{c(!1)}})()},[l]),(0,s.jsxs)("form",{className:"w-full max-w-sm space-y-6",onSubmit:h,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fullName",className:"block text-black text-sm",children:"Full Name"}),(0,s.jsx)("input",{type:"text",name:"fullName",id:"fullName",className:"w-full mt-1 px-4 py-2 border text-black border-gray-300 bg-white rounded-lg shadow-sm",placeholder:"Your full name",value:e.fullName,onChange:m})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-black text-sm",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",className:"w-full mt-1 px-4 py-2 border text-black border-gray-300 bg-white rounded-lg shadow-sm",placeholder:"admin@admin.com",value:e.email,onChange:m})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"accountType",className:"block text-black text-sm",children:"Account Type"}),(0,s.jsxs)("select",{name:"accountType",value:e.accountType,className:"w-full mt-1 px-4 py-2 border text-black border-gray-300 bg-white rounded-lg shadow-sm",onChange:e=>{let{name:t,value:s}=e.target;a(e=>({...e,[t]:s}))},children:[(0,s.jsx)("option",{value:"",children:"Select Account Type"}),d.map(e=>(0,s.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-black text-sm",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",id:"password",className:"w-full mt-1 px-4 py-2 border text-black border-gray-300 bg-white rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:outline-none",value:e.password,onChange:m})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-black text-sm",children:"Confirm Password"}),(0,s.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",className:"w-full mt-1 px-4 py-2 border text-black border-gray-300 bg-white rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:outline-none",value:e.confirmPassword,onChange:m})]}),(0,s.jsx)("button",{type:"submit",className:"w-full py-1 text-sm bg-[#FDDCDF] border-[#FDDCDF] border text-[#F20519] rounded-lg shadow-md hover:bg-[#F20519] hover:text-white",children:"Sign Up"}),(0,s.jsxs)("p",{className:"text-center text-sm text-black",children:["Already have an account?"," ",(0,s.jsx)(o(),{href:"/auth/login",children:(0,s.jsx)("span",{className:"text-red-500 hover:underline",children:"Log In"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("hr",{className:"flex-grow border-gray-300"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"OR"}),(0,s.jsx)("hr",{className:"flex-grow border-gray-300"})]}),(0,s.jsx)("div",{className:"space-y-4 text-black",children:(0,s.jsxs)("button",{type:"button",className:"flex items-center justify-center w-full py-2 text-sm border border-gray-300 rounded-full shadow-sm text-black",children:[(0,s.jsx)("img",{src:"/images/google-icon.png",alt:"Google Logo",className:"w-5 h-5 mr-2 object-cover"}),"Continue with Google"]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[320,173,441,517,358],()=>a(1523)),_N_E=e.O()}]);